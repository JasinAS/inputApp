<!-- Main Element -->
<div class="numeric-input-wrapper">
  <!-- Input Element -->
  <div
    #wrapper
    (click)="onWrapperClick($event)"
    (mousedown)="$event.preventDefault()"
    class="numeric-input"
    [ngStyle]="{
      background: !isFocused && !isError && isSuccess ? background : ''
    }"
    [class.focus]="isFocused"
    [class.error]="isError"
    [class.valid]="isSuccess"
    (mouseenter)="isHovered = true"
    (mouseleave)="isHovered = false"
  >
    <!-- Input -->
    <input
      #inputField
      type="text"
      class="input-field"
      [value]="formattedValue"
      (input)="onInput($event)"
      (focus)="onFocus()"
      (blur)="onBlur($event)"
    />

    <!-- Spacer for button control and placeholder text-->
    <div class="spacer">{{ placeholder }}</div>

    <!-- Initial Valid Check -->
    <img
      *ngIf="!isFocused && !isHovered && isSuccess"
      src="assets/check.svg"
      class="icon-success"
      alt="Valid"
    />

    <!-- Reset -->
    <button
      *ngIf="!isFocused && isHovered && isSuccess"
      class="btn-reset"
      (mousedown)="$event.preventDefault()"
      (click)="resetToDefault()"
    >
      <img src="assets/reset.svg" class="icon-reset" alt="Reset" /><span
        class="tooltip"
        >Reset</span
      >
    </button>

    <!-- Minus -->
    <button
      *ngIf="isFocused || isError"
      class="btn-decrement"
      (mousedown)="$event.preventDefault()"
      (click)="decrement()"
      [disabled]="value <= min"
    >
      <svg
        class="icon-step"
        width="14"
        height="14"
        viewBox="0 0 14 14"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.9996 5.49988H1.99973C1.73446 5.49988 1.48005 5.60526 1.29247 5.79284C1.10489 5.98042 0.999512 6.23482 0.999512 6.5001V7.50033C0.999512 7.7656 1.10489 8.02001 1.29247 8.20759C1.48005 8.39516 1.73446 8.50055 1.99973 8.50055H11.9996C12.2649 8.50055 12.5193 8.39516 12.7069 8.20759C12.8945 8.02001 12.9998 7.7656 12.9998 7.50033V6.5001C12.9998 6.23482 12.8945 5.98042 12.7069 5.79284C12.5193 5.60526 12.2649 5.49988 11.9996 5.49988Z"
          fill="currentColor"
        />
      </svg>
      <span class="tooltip">Decrease</span>
    </button>

    <!-- Plus -->
    <button
      *ngIf="isFocused || isError"
      class="btn-increment"
      (mousedown)="$event.preventDefault()"
      (click)="increment()"
      [disabled]="value >= max"
    >
      <svg
        width="14"
        height="14"
        viewBox="0 0 14 14"
        fill="none"
        class="icon-step"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.3333 5.66694H8.33317V1.66683C8.33317 1.43106 8.2395 1.20493 8.07278 1.03821C7.90606 0.871495 7.67994 0.777832 7.44417 0.777832H6.55594C6.32017 0.777832 6.09405 0.871495 5.92733 1.03821C5.76061 1.20493 5.66694 1.43106 5.66694 1.66683V5.66694H1.66683C1.43105 5.66694 1.20493 5.76061 1.03821 5.92733C0.871494 6.09405 0.777832 6.32017 0.777832 6.55594L0.777832 7.44494C0.777832 7.68072 0.871494 7.90684 1.03821 8.07356C1.20493 8.24028 1.43105 8.33394 1.66683 8.33394H5.66694V12.3341C5.66715 12.5697 5.7609 12.7956 5.9276 12.9622C6.0943 13.1287 6.3203 13.2223 6.55594 13.2223H7.44417C7.67994 13.2223 7.90606 13.1286 8.07278 12.9619C8.2395 12.7952 8.33317 12.5691 8.33317 12.3333V8.33317H12.3333C12.5691 8.33317 12.7952 8.2395 12.9619 8.07278C13.1286 7.90606 13.2223 7.67994 13.2223 7.44417V6.55594C13.2223 6.32017 13.1286 6.09405 12.9619 5.92733C12.7952 5.76061 12.5691 5.66694 12.3333 5.66694Z"
          fill="currentColor"
        />
      </svg>
      <span class="tooltip">Increase</span>
    </button>
  </div>

  <!-- Error Message -->
  <div class="error-message" [class.visible]="isError">Invalid</div>
</div>
